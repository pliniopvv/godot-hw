[gd_scene load_steps=12 format=3 uid="uid://c2sgbn3nvjd6y"]

[ext_resource type="Shader" path="res://simple_texture.gdshader" id="1_fwaey"]
[ext_resource type="Texture2D" uid="uid://7w08myerjfrf" path="res://texture/grass.jpg" id="2_3em82"]
[ext_resource type="Script" path="res://TerrainGen.gd" id="2_mww0p"]
[ext_resource type="Texture2D" uid="uid://dv01afi4q4dsc" path="res://texture/sand.jpg" id="3_y0y2k"]

[sub_resource type="Environment" id="Environment_s4wj2"]

[sub_resource type="ArrayMesh" id="ArrayMesh_fpese"]
_surfaces = [{
"aabb": AABB(-25, -6.20559, -25, 50, 10.1333, 50),
"attribute_data": PackedByteArray(0, 0, 0, 0, 0, 0, 0, 0, 205, 204, 76, 62, 0, 0, 0, 0, 0, 0, 0, 0, 205, 204, 76, 62, 205, 204, 76, 62, 205, 204, 76, 62, 205, 204, 204, 62, 0, 0, 0, 0, 205, 204, 204, 62, 205, 204, 76, 62, 154, 153, 25, 63, 0, 0, 0, 0, 154, 153, 25, 63, 205, 204, 76, 62, 205, 204, 76, 63, 0, 0, 0, 0, 205, 204, 76, 63, 205, 204, 76, 62, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 205, 204, 76, 62, 0, 0, 0, 0, 205, 204, 204, 62, 205, 204, 76, 62, 205, 204, 204, 62, 205, 204, 204, 62, 205, 204, 204, 62, 154, 153, 25, 63, 205, 204, 204, 62, 205, 204, 76, 63, 205, 204, 204, 62, 0, 0, 128, 63, 205, 204, 204, 62, 0, 0, 0, 0, 154, 153, 25, 63, 205, 204, 76, 62, 154, 153, 25, 63, 205, 204, 204, 62, 154, 153, 25, 63, 154, 153, 25, 63, 154, 153, 25, 63, 205, 204, 76, 63, 154, 153, 25, 63, 0, 0, 128, 63, 154, 153, 25, 63, 0, 0, 0, 0, 205, 204, 76, 63, 205, 204, 76, 62, 205, 204, 76, 63, 205, 204, 204, 62, 205, 204, 76, 63, 154, 153, 25, 63, 205, 204, 76, 63, 205, 204, 76, 63, 205, 204, 76, 63, 0, 0, 128, 63, 205, 204, 76, 63, 0, 0, 0, 0, 0, 0, 128, 63, 205, 204, 76, 62, 0, 0, 128, 63, 205, 204, 204, 62, 0, 0, 128, 63, 154, 153, 25, 63, 0, 0, 128, 63, 205, 204, 76, 63, 0, 0, 128, 63, 0, 0, 128, 63, 0, 0, 128, 63),
"format": 4115,
"index_count": 150,
"index_data": PackedByteArray(0, 0, 1, 0, 2, 0, 2, 0, 1, 0, 3, 0, 1, 0, 4, 0, 3, 0, 3, 0, 4, 0, 5, 0, 4, 0, 6, 0, 5, 0, 5, 0, 6, 0, 7, 0, 6, 0, 8, 0, 7, 0, 7, 0, 8, 0, 9, 0, 8, 0, 10, 0, 9, 0, 9, 0, 10, 0, 11, 0, 2, 0, 3, 0, 12, 0, 12, 0, 3, 0, 13, 0, 3, 0, 5, 0, 13, 0, 13, 0, 5, 0, 14, 0, 5, 0, 7, 0, 14, 0, 14, 0, 7, 0, 15, 0, 7, 0, 9, 0, 15, 0, 15, 0, 9, 0, 16, 0, 9, 0, 11, 0, 16, 0, 16, 0, 11, 0, 17, 0, 12, 0, 13, 0, 18, 0, 18, 0, 13, 0, 19, 0, 13, 0, 14, 0, 19, 0, 19, 0, 14, 0, 20, 0, 14, 0, 15, 0, 20, 0, 20, 0, 15, 0, 21, 0, 15, 0, 16, 0, 21, 0, 21, 0, 16, 0, 22, 0, 16, 0, 17, 0, 22, 0, 22, 0, 17, 0, 23, 0, 18, 0, 19, 0, 24, 0, 24, 0, 19, 0, 25, 0, 19, 0, 20, 0, 25, 0, 25, 0, 20, 0, 26, 0, 20, 0, 21, 0, 26, 0, 26, 0, 21, 0, 27, 0, 21, 0, 22, 0, 27, 0, 27, 0, 22, 0, 28, 0, 22, 0, 23, 0, 28, 0, 28, 0, 23, 0, 29, 0, 24, 0, 25, 0, 30, 0, 30, 0, 25, 0, 31, 0, 25, 0, 26, 0, 31, 0, 31, 0, 26, 0, 32, 0, 26, 0, 27, 0, 32, 0, 32, 0, 27, 0, 33, 0, 27, 0, 28, 0, 33, 0, 33, 0, 28, 0, 34, 0, 28, 0, 29, 0, 34, 0, 34, 0, 29, 0, 35, 0),
"primitive": 3,
"vertex_count": 36,
"vertex_data": PackedByteArray(0, 0, 200, 193, 0, 0, 0, 0, 0, 0, 200, 193, 177, 113, 153, 252, 1, 0, 112, 193, 61, 8, 153, 62, 0, 0, 200, 193, 207, 106, 83, 250, 0, 0, 200, 193, 216, 142, 117, 63, 1, 0, 112, 193, 34, 106, 149, 247, 1, 0, 112, 193, 156, 24, 0, 64, 1, 0, 112, 193, 96, 105, 173, 247, 255, 255, 159, 192, 88, 254, 13, 63, 0, 0, 200, 193, 80, 154, 155, 251, 255, 255, 159, 192, 159, 117, 60, 64, 1, 0, 112, 193, 163, 149, 172, 245, 2, 0, 160, 64, 100, 92, 0, 192, 0, 0, 200, 193, 226, 171, 181, 232, 2, 0, 160, 64, 69, 156, 242, 62, 1, 0, 112, 193, 234, 164, 115, 232, 1, 0, 112, 65, 159, 74, 169, 192, 0, 0, 200, 193, 49, 170, 139, 234, 1, 0, 112, 65, 106, 200, 57, 192, 1, 0, 112, 193, 235, 164, 150, 239, 0, 0, 200, 65, 49, 148, 198, 192, 0, 0, 200, 193, 198, 159, 181, 248, 0, 0, 200, 65, 37, 23, 96, 192, 1, 0, 112, 193, 128, 158, 114, 248, 0, 0, 200, 193, 210, 186, 6, 64, 255, 255, 159, 192, 102, 114, 27, 248, 1, 0, 112, 193, 65, 172, 39, 64, 255, 255, 159, 192, 121, 122, 150, 251, 255, 255, 159, 192, 143, 243, 16, 64, 255, 255, 159, 192, 230, 137, 161, 246, 2, 0, 160, 64, 225, 247, 204, 63, 255, 255, 159, 192, 55, 154, 181, 241, 1, 0, 112, 65, 104, 20, 235, 190, 255, 255, 159, 192, 8, 160, 11, 243, 0, 0, 200, 65, 0, 107, 202, 191, 255, 255, 159, 192, 87, 158, 142, 241, 0, 0, 200, 193, 94, 28, 236, 63, 2, 0, 160, 64, 1, 119, 110, 244, 1, 0, 112, 193, 152, 188, 47, 64, 2, 0, 160, 64, 205, 125, 217, 248, 255, 255, 159, 192, 6, 144, 28, 64, 2, 0, 160, 64, 94, 124, 204, 254, 2, 0, 160, 64, 5, 18, 45, 64, 2, 0, 160, 64, 140, 145, 90, 250, 1, 0, 112, 65, 77, 113, 199, 63, 2, 0, 160, 64, 250, 155, 90, 241, 0, 0, 200, 65, 238, 175, 34, 191, 2, 0, 160, 64, 36, 159, 195, 238, 0, 0, 200, 193, 149, 108, 168, 63, 1, 0, 112, 65, 92, 122, 124, 249, 1, 0, 112, 193, 174, 182, 199, 63, 1, 0, 112, 65, 238, 121, 138, 251, 255, 255, 159, 192, 107, 27, 57, 64, 1, 0, 112, 65, 72, 110, 87, 245, 2, 0, 160, 64, 208, 91, 103, 64, 1, 0, 112, 65, 228, 138, 85, 253, 1, 0, 112, 65, 61, 140, 39, 64, 1, 0, 112, 65, 121, 149, 239, 242, 0, 0, 200, 65, 253, 172, 213, 63, 1, 0, 112, 65, 197, 146, 28, 246, 0, 0, 200, 193, 216, 153, 52, 64, 0, 0, 200, 65, 86, 142, 168, 253, 1, 0, 112, 193, 247, 217, 10, 64, 0, 0, 200, 65, 206, 112, 18, 248, 255, 255, 159, 192, 232, 223, 102, 64, 0, 0, 200, 65, 58, 112, 189, 246, 2, 0, 160, 64, 226, 94, 123, 64, 0, 0, 200, 65, 59, 138, 79, 248, 1, 0, 112, 65, 14, 1, 41, 64, 0, 0, 200, 65, 131, 140, 62, 244, 0, 0, 200, 65, 21, 48, 233, 63, 0, 0, 200, 65, 84, 139, 113, 246)
}]

[sub_resource type="Gradient" id="Gradient_sf7up"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_5ow1a"]
seed = 10
frequency = 0.001
fractal_type = 3

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_nrfn2"]
width = 4096
height = 4096
normalize = false
color_ramp = SubResource("Gradient_sf7up")
noise = SubResource("FastNoiseLite_5ow1a")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_f7r1t"]
render_priority = 0
shader = ExtResource("1_fwaey")
shader_parameter/uvscale = 40.0
shader_parameter/terrain = ExtResource("2_3em82")
shader_parameter/terrain2 = ExtResource("3_y0y2k")
shader_parameter/mNoise = SubResource("NoiseTexture2D_nrfn2")

[sub_resource type="CapsuleMesh" id="CapsuleMesh_3ig1g"]

[node name="world" type="Node3D"]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 5.57463, 18.4192, 4.67127)
current = true

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.244507, -0.630495, 0.736677, 0.100645, 0.772135, 0.627438, -0.96441, -0.0792698, 0.252249, 1.43989, 4.92815, -2.45671)
light_energy = 1.134

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_s4wj2")

[node name="terrainGen" type="MeshInstance3D" parent="."]
mesh = SubResource("ArrayMesh_fpese")
surface_material_override/0 = SubResource("ShaderMaterial_f7r1t")
script = ExtResource("2_mww0p")
Terrain_Size = 50
resolution = 5
Terrain_Max_Height = 35

[node name="player" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.0743, 0)
mesh = SubResource("CapsuleMesh_3ig1g")
skeleton = NodePath("../terrainGen")
